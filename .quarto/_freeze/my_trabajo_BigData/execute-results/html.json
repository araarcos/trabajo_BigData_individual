{
  "hash": "4ab9f31ee6d5fdee5bf3ef44aa686e10",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"MCU. Un análisis codificado\"\ndescription: |\n  Un recorrido por las películas y los personajes del Universo Cinematográfico de Marvel\nauthor:\n  - name: Arantxa Anais Arcos Raimundo\n    affiliation: Universitat de València\n    affiliation-url: https://www.uv.es\ndate: 2026-01-02                           #--\ncategories: [trabajo BigData, marvel, hérores, películas]   #--\nimage: \"./imagenes/universo_marvel.jpg\"\ntitle-block-banner: true #- {true, false, \"green\",\"#AA0000\"}\ntitle-block-banner-color: \"EB1F48\"    #-\"#FFFFFF\" \ntoc-depth: 3\nsmooth-scroll: true\nformat: \n  html:\n    #backgroundcolor: \"#F1F3F4\"\n    #embed-resources: true\n    link-external-newwindow: true\n    #css: assets/my_css_file.css   #- CUIDADO!!!!\ncode-tools: true\ncode-link: true\n---\n\n## Introducción\n\nVamos a utilizar datos extraídos de Kaggle, los cuales podemos encontrar [aquí](https://www.kaggle.com/datasets/jainaru/marvel-movies-box-office-data?resource=download) y [aquí](https://www.kaggle.com/datasets/sahirmaharajj/the-avengers-dataset/data).\n\nLos datos se pueden cargar en la memoria de de R/RStudio de esta forma:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmy_ruta <- \"./data/marvel_movies.csv\"\n\ndf_movies <- rio::import(my_ruta)\n\nnames (df_movies)\n#>  [1] \"movie\"                          \"category\"                      \n#>  [3] \"year\"                           \"worldwide gross ($m)\"          \n#>  [5] \"% budget recovered\"             \"critics % score\"               \n#>  [7] \"audience % score\"               \"audience vs critics % deviance\"\n#>  [9] \"budget\"                         \"domestic gross ($m)\"           \n#> [11] \"international gross ($m)\"       \"opening weekend ($m)\"          \n#> [13] \"second weekend ($m)\"            \"1st vs 2nd weekend drop off\"   \n#> [15] \"% gross from opening weekend\"   \"% gross from domestic\"         \n#> [17] \"% gross from international\"     \"% budget opening weekend\"\n\nmy_ruta_personajes <- \"./data/avengers.csv\"\n\ndf_personajes <- rio::import(my_ruta_personajes)\n\n```\n:::\n\n\nEl primer dataset contiene observaciones sobre un conjunto de 36 películas de Marvel. Hay 18 variables. El segundo dataset contiente observaciones sobre un conjunto 173 personajes de cómics. Hay 22 variables. Cabe destacar que los datasets escogidos solo llegan hasta 2023 por lo que el análisis no incluirá los cambios que han habido de vengadores o algunas de las nuevas incorporaciones más recientes. \n\n---\n\n## Marvel Studios\n\nA continuación, podemos observar una imagen en la que se encuentran muchos de los principales personajes del Universo Cinematográfico de Marvel.\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![Marvel characters](https://images.alphacoders.com/100/1003204.jpg)\n\n------------------------------------------------------------------------\n\nComo bien sabemos el MCU es mucho más extenso ya que en los cómics hay muchos más personajes de los que han llegado a salir en la saga de *Avengers*; por ello, en el margen vamos a poner una foto con muchos más héroes y heroínas:\n\n::: column-margin\n![](./imagenes/universo_marvel.jpg){fig-align=\"center\"}\n:::\n\n------------------------------------------------------------------------\n\n## Algunos gráficos\n\nBueno pues vamos a hacer algún gráfico, pero claro antes he de cargar los paquetes.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(dplyr)\nlibrary(forcats)\nlibrary(gt)\nlibrary(plotly)\n\n```\n:::\n\n\nPor otro lado, vamos a establecer la paleta que pondremos en nuestros gráficos.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Configuración de paleta\n\nlibrary(paletteer)\n\npaleta_discreta <- paletteer_c( \"ggthemes::Orange-Blue-White Diverging\", 6)\n\nscale_fill_default <- function(...) {\n  scale_fill_gradientn(colors = mi_paleta, ...)\n}\n\nscale_color_default <- function(...) {\n  scale_color_gradientn(colors = mi_paleta, ...)\n}\n\n```\n:::\n\n\nPor otro lado, un paso previo también es arreglar los datos. Para ello, en primer lugar, vamos a quitar aquellas columnas que no necesitamos o añadir las que nos hagan falta.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#- En el df de películas no vamos a quitar ninguna columna; sin embargo, vamos a añadir una con el protagonista de cada película.\ndf_movies <- df_movies %>%\n  mutate (protagonista = case_when(\n    grepl(\"Iron\", movie) ~ \"Iron Man\",\n    grepl(\"America\", movie) ~ \"Captain America\",\n    grepl(\"Thor\", movie) ~ \"Thor\",\n    grepl(\"Incredible Hulk\", movie) ~ \"Hulk\",\n    grepl(\"Widow\", movie) ~ \"Black Widow\",\n    grepl(\"Ant-Man\", movie) ~ \"Ant-Man\",\n    grepl(\"Spider-Man\", movie) ~ \"Spider-Man\",\n    grepl(\"Shang-Chi\", movie) ~ \"Shang-Chi\",\n    grepl(\"Deadpool\", movie) ~ \"Deadpool\",\n    grepl(\"Panther\", movie) ~ \"Black Panther\",\n    grepl(\"Strange\", movie) ~ \"Dr Strange\",\n  )) %>%\n  relocate (protagonista, .after = category)\n\n\n#- Por otra parte, en el df de personajes vamos a hacer algunas modificaciones. Comenzaremos quitando estas dos columnas que no nos hacen falta:\ndf_personajes <- df_personajes %>%\n  select (- V22, - Notes)\n\n#- A continuación, añadimos una nueva columna llamada \"Alias\" en las que pondremos los nombres de superhéroe de cada personaje y la recolocaremos al lado de los Nombres/Alias originales:\n\ndf_personajes <- df_personajes %>%\n  filter(`Name/Alias` != \"Tony Masters\") %>% \n  mutate(Alias = case_when(\n    grepl(\"Tony\", `Name/Alias`) ~ \"Iron Man\",\n    grepl(\"Clinton Francis Barton\", `Name/Alias`) ~ \"Hawkeye\",\n    grepl(\"Rogers\", `Name/Alias`) ~ \"Captain America\",\n    grepl(\"Thor\", `Name/Alias`) ~ \"Thor\",\n    grepl(\"Banner\", `Name/Alias`) ~ \"Hulk\",\n    grepl(\"Romanova\", `Name/Alias`) ~ \"Black Widow\",\n    grepl(\"Scott Edward Harris Lang\", `Name/Alias`) ~ \"Ant-Man\",\n    grepl(\"Wanda Maximoff\", `Name/Alias`) ~ \"Scarlet Witch\",\n    grepl(\"Peter Benjamin Parker\", `Name/Alias`) ~ \"Spider-Man\",\n    grepl(\"Shang-Chi\", `Name/Alias`) ~ \"Shang-Chi\",\n    grepl(\"T'Challa\", `Name/Alias`) ~ \"Black Panther\",\n    grepl(\"Buchanan\", `Name/Alias`) ~ \"Bucky\",\n    grepl(\"Victor Shade \", `Name/Alias`) ~ \"Vision\",\n    grepl(\"Doctor Stephen Vincent Strange\", `Name/Alias`) ~ \"Dr Strange\",\n    TRUE ~ \"Other\")) %>%\n  relocate(Alias, .after = `Name/Alias`)\n\n#- También vamos a crear un nuevo df con los Vengadores para poder juntarlos con el df_movies\n\navengers <- df_personajes %>%\n  filter (Alias != \"Other\") %>%\n  select (URL, `Name/Alias`, Alias, Appearances, Gender)\n\n#- Finalmente, juntaremos el df de avengers con el de películas para tener observar las películas individuales que tienen algunos personajes:\n\npelicula_propia <- avengers %>%\n  left_join(df_movies, by = c(\"Alias\" = \"protagonista\")) %>%\n  select (`Name/Alias`,movie, Gender, Appearances, Alias, year)\n\n```\n:::\n\n\n------------------------------------------------------------------------\n\n### Primeros gráficos. Comparativa numérica\n\nEn este apartado, realizamos una comparación entre el número de héroes y heroínas y la cantidad de películas que están asociadas a cada uno.\n\nEn este primer gráfico, vamos a contrastar el número de personajes que hay en el MCU según su género para mostrar en una gráfica que el número de hombres es mayor al de mujeres, debido a que en un comienzo la mayoría de personajes que se escribían eran hombres.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#- primer gráfico\n\ngenero <- df_personajes %>% \n  filter(Gender %in% c(\"MALE\", \"FEMALE\"))\n\np <- ggplot(data = genero,\n  mapping = aes(x = Gender, fill = Gender)) +\n  geom_bar() +\n  labs(\n    title = \"Comparativa de género entre superhéroes\",\n    x = \"Género\",\n    y = \"Número de superhéroes\") +\n  theme_minimal(base_family = \"mono\") +\n  theme(legend.position = \"none\",\n        plot.title = element_text(size=15,\n                                   vjust=2,\n                                   face=\"bold\")) +  \n  scale_fill_manual(values = paleta_discreta)\n\np\n\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-5-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\nTras esta imagen, vamos a comparar el porcentaje de películas individuales que tienen los hombres vs las mujeres dentro del equipo de Vengadores en un piechart. Como podemos comprobar, al haber más héroes, tanto en el equipo de Avengers como en general, el porcentaje de películas que van a estar protagonizadas por ellos es mucho mayor.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n\nporcentaje <- pelicula_propia %>%\n  filter(!is.na(movie)) %>%\n  count(Gender) %>%\n  mutate(\n    porcentaje = n / sum(n),\n    label = scales::percent(porcentaje, accuracy = 1))\n\np <- ggplot( porcentaje,\n  aes(x = \"\", y = n, fill = Gender)) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(\"y\") +\n  geom_text(\n    aes(label = label),\n    position = position_stack(vjust = 0.5),\n    color = \"white\",\n    size = 5) +\n  theme_void(base_family = \"mono\")+\n  theme(plot.title = element_text(size=15,\n                                   vjust=2,\n                                   face=\"bold\")) + \n  labs(\n    title = \"Porcentaje de películas por género\",\n    subtitle = \"(protagonistas vengadores)\") +\n  scale_fill_manual(values = paleta_discreta)\n\np\n\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-6-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\nPor último, en la siguiente gráfica se muestra el número de películas que tiene cada uno de los Vengadores. Cabe destacar el caso de Spider-Man el cual realmente tendría más películas; sin embargo, en este análisis solo usamos las más recientes que son las 3 protagonizadas por el actor Tom Holland y la de animación con Miles Morales.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n\np <- ggplot(pelicula_propia %>% filter(!is.na(movie)), aes(x = Alias)) +\n  geom_bar(fill = \"#ff721a\") +\n  labs(\n    title = \"Número de películas por personaje\",\n    x = \"Personajes\",\n    y = \"Número de películas\") +\n  coord_flip() +\n  geom_bar(aes(forcats::fct_rev(forcats::fct_infreq(Alias))),\n         fill = \"#ff721a\") +\n  theme_minimal(base_family = \"mono\")+\n  theme (plot.title = element_text(size=15,\n                                   vjust=2,\n                                   face=\"bold\"))\n\np\n\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-7-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n### Segundo gráfico. Marvel y la taquilla\n\nA continuación, vamos a construir un gráfico circular para ver qué películas han tenido una mayor recaudación.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#- segundo gráfico\n\nrecaudacion <- df_movies %>%\n  select(movie, `worldwide gross ($m)`) %>%\n  filter(!is.na(`worldwide gross ($m)`)) %>%\n  mutate(\n    id = row_number(),\n    value = `worldwide gross ($m)`,\n    individual = movie)\n\nnumber_of_bar <- nrow(recaudacion)\n\nangle <- 90 - 360 * (recaudacion$id - 0.5) / number_of_bar\n\nrecaudacion$hjust <- ifelse(angle < -90, 1, 0)\nrecaudacion$angle <- ifelse(angle < -90, angle + 180, angle)\n\n\np <- ggplot(recaudacion, aes(x = as.factor(id), y = value)) +\n    geom_bar(stat = \"identity\", fill = alpha(\"#2B5C8A\", 0.9)) +\n    ylim(-max(recaudacion$value) * 0.25, max(recaudacion$value) * 1.1) +\n    theme_minimal(base_family = \"mono\") +\n    theme(\n    axis.text = element_blank(),\n    axis.title = element_blank(),\n    panel.grid = element_blank(),\n    plot.margin = unit(rep(1, 4), \"cm\")) +\n   coord_polar(start = 0) +\n  geom_text(\n    data = recaudacion,\n    aes(\n      x = id,\n      y = value + max(recaudacion$value) * 0.05,\n      label = individual,\n      hjust = hjust),\n    angle = recaudacion$angle,\n    inherit.aes = FALSE,\n    size = 3,\n    alpha = 0.7)\n\np\n\n```\n\n::: {.cell-output-display}\n![](my_trabajo_BigData_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=95%}\n:::\n:::\n\n\nA este gráfico, para hacer una mayor aproximación,lo acompañaremos con una tabla que muestre el top 5 películas más recaudadas.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntop5recaudacion <- df_movies %>%\n  arrange(desc(`worldwide gross ($m)`)) %>%\n  slice_head(n = 5) %>%\n  rename(recaudacion_taquilla = `worldwide gross ($m)`) %>%\n  select(movie, recaudacion_taquilla)\n\n\ntop5rec_tabla<- top5recaudacion %>%\n  gt() %>%\n  tab_header(\n    title = \"Top 5 películas Marvel - Recaudación mundial\",\n    subtitle = \"(en millones de dólares)\") %>%\n  cols_label(\n    movie = \"Película\",\n    recaudacion_taquilla = \"Recaudación\")%>%\n  fmt_currency(\n    columns = recaudacion_taquilla,\n    currency = \"USD\",\n    decimals = 0) %>%\n  tab_style(\n    style = cell_text(font = \"mono\"),\n    locations = cells_body()) %>%\n  tab_style(\n    style = cell_text(font = \"mono\"),\n    locations = cells_title(groups = c(\"title\", \"subtitle\"))) %>%\n  tab_style(\n    style = cell_text(font = \"mono\"),\n    locations = cells_column_labels()) %>%\n  tab_options(\n    table.background.color = \"#FFF6ED\")\n\ntop5rec_tabla\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"elsasfnknc\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#elsasfnknc table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#elsasfnknc thead, #elsasfnknc tbody, #elsasfnknc tfoot, #elsasfnknc tr, #elsasfnknc td, #elsasfnknc th {\n  border-style: none;\n}\n\n#elsasfnknc p {\n  margin: 0;\n  padding: 0;\n}\n\n#elsasfnknc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFF6ED;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#elsasfnknc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFF6ED;\n  border-bottom-width: 0;\n}\n\n#elsasfnknc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFF6ED;\n  border-top-width: 0;\n}\n\n#elsasfnknc .gt_heading {\n  background-color: #FFF6ED;\n  text-align: center;\n  border-bottom-color: #FFF6ED;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_col_heading {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#elsasfnknc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#elsasfnknc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#elsasfnknc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#elsasfnknc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#elsasfnknc .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#elsasfnknc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#elsasfnknc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#elsasfnknc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#elsasfnknc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#elsasfnknc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#elsasfnknc .gt_stub {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsasfnknc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#elsasfnknc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#elsasfnknc .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#elsasfnknc .gt_summary_row {\n  color: #333333;\n  background-color: #FFF6ED;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsasfnknc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#elsasfnknc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFF6ED;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsasfnknc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#elsasfnknc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_footnotes {\n  color: #333333;\n  background-color: #FFF6ED;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsasfnknc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFF6ED;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#elsasfnknc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsasfnknc .gt_left {\n  text-align: left;\n}\n\n#elsasfnknc .gt_center {\n  text-align: center;\n}\n\n#elsasfnknc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#elsasfnknc .gt_font_normal {\n  font-weight: normal;\n}\n\n#elsasfnknc .gt_font_bold {\n  font-weight: bold;\n}\n\n#elsasfnknc .gt_font_italic {\n  font-style: italic;\n}\n\n#elsasfnknc .gt_super {\n  font-size: 65%;\n}\n\n#elsasfnknc .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#elsasfnknc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#elsasfnknc .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#elsasfnknc .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#elsasfnknc .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#elsasfnknc .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#elsasfnknc .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#elsasfnknc .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#elsasfnknc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal\" style=\"font-family: mono;\">Top 5 películas Marvel - Recaudación mundial</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style=\"font-family: mono;\">(en millones de dólares)</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-family: mono;\" scope=\"col\" id=\"movie\">Película</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-family: mono;\" scope=\"col\" id=\"recaudacion_taquilla\">Recaudación</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Avengers: End Game</td>\n<td headers=\"recaudacion_taquilla\" class=\"gt_row gt_right\" style=\"font-family: mono;\">$2,797</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Avengers: Infinity War</td>\n<td headers=\"recaudacion_taquilla\" class=\"gt_row gt_right\" style=\"font-family: mono;\">$2,048</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Spider-Man: No Way Home</td>\n<td headers=\"recaudacion_taquilla\" class=\"gt_row gt_right\" style=\"font-family: mono;\">$1,911</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">The Avengers</td>\n<td headers=\"recaudacion_taquilla\" class=\"gt_row gt_right\" style=\"font-family: mono;\">$1,515</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Avengers: Age of Ultron</td>\n<td headers=\"recaudacion_taquilla\" class=\"gt_row gt_right\" style=\"font-family: mono;\">$1,395</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nFinalmente, compararemos el top 5 películas más valoradas por la audiencia con las más valoradas por los críticos.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n\ntop5audiencia <- df_movies %>%\n  arrange(desc(`audience % score`)) %>%\n  slice_head(n = 5) %>%\n  rename(audiencia = `audience % score`) %>%\n  select(movie, audiencia)\n\ntop5aud_tabla<- top5audiencia %>%\n  gt() %>%\n  tab_header(\n    title = \"Top 5 películas Marvel - Mejor valoradas por la audiencia\",\n    subtitle = \"(en porcentaje)\") %>%\n  cols_label(\n    movie = \"Película\",\n    audiencia = \"Porcentaje\") %>%\n  tab_style(\n    style = cell_text(font = \"mono\"),\n    locations = cells_body()) %>%\n  tab_style(\n    style = cell_text(font = \"mono\"),\n    locations = cells_title(groups = c(\"title\", \"subtitle\"))) %>%\n  tab_style(\n    style = cell_text(font = \"mono\"),\n    locations = cells_column_labels()) %>%\n  tab_options(\n    table.background.color = \"#FFF6ED\")\n\ntop5aud_tabla\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"qusgwwpddf\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#qusgwwpddf table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qusgwwpddf thead, #qusgwwpddf tbody, #qusgwwpddf tfoot, #qusgwwpddf tr, #qusgwwpddf td, #qusgwwpddf th {\n  border-style: none;\n}\n\n#qusgwwpddf p {\n  margin: 0;\n  padding: 0;\n}\n\n#qusgwwpddf .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFF6ED;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qusgwwpddf .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFF6ED;\n  border-bottom-width: 0;\n}\n\n#qusgwwpddf .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFF6ED;\n  border-top-width: 0;\n}\n\n#qusgwwpddf .gt_heading {\n  background-color: #FFF6ED;\n  text-align: center;\n  border-bottom-color: #FFF6ED;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_col_heading {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qusgwwpddf .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qusgwwpddf .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qusgwwpddf .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qusgwwpddf .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qusgwwpddf .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qusgwwpddf .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qusgwwpddf .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qusgwwpddf .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qusgwwpddf .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qusgwwpddf .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qusgwwpddf .gt_stub {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qusgwwpddf .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qusgwwpddf .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qusgwwpddf .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qusgwwpddf .gt_summary_row {\n  color: #333333;\n  background-color: #FFF6ED;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qusgwwpddf .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qusgwwpddf .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFF6ED;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qusgwwpddf .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qusgwwpddf .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_footnotes {\n  color: #333333;\n  background-color: #FFF6ED;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qusgwwpddf .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFF6ED;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qusgwwpddf .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qusgwwpddf .gt_left {\n  text-align: left;\n}\n\n#qusgwwpddf .gt_center {\n  text-align: center;\n}\n\n#qusgwwpddf .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qusgwwpddf .gt_font_normal {\n  font-weight: normal;\n}\n\n#qusgwwpddf .gt_font_bold {\n  font-weight: bold;\n}\n\n#qusgwwpddf .gt_font_italic {\n  font-style: italic;\n}\n\n#qusgwwpddf .gt_super {\n  font-size: 65%;\n}\n\n#qusgwwpddf .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qusgwwpddf .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qusgwwpddf .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qusgwwpddf .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qusgwwpddf .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qusgwwpddf .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qusgwwpddf .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#qusgwwpddf .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#qusgwwpddf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal\" style=\"font-family: mono;\">Top 5 películas Marvel - Mejor valoradas por la audiencia</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style=\"font-family: mono;\">(en porcentaje)</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-family: mono;\" scope=\"col\" id=\"movie\">Película</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-family: mono;\" scope=\"col\" id=\"audiencia\">Porcentaje</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Spider-Man: No Way Home</td>\n<td headers=\"audiencia\" class=\"gt_row gt_right\" style=\"font-family: mono;\">96%</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Guardians of the Galaxy Vol. 3</td>\n<td headers=\"audiencia\" class=\"gt_row gt_right\" style=\"font-family: mono;\">95%</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Black Panther 2</td>\n<td headers=\"audiencia\" class=\"gt_row gt_right\" style=\"font-family: mono;\">94%</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Spider-Man: Across the Spider-Verse</td>\n<td headers=\"audiencia\" class=\"gt_row gt_right\" style=\"font-family: mono;\">94%</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Shang-Chi</td>\n<td headers=\"audiencia\" class=\"gt_row gt_right\" style=\"font-family: mono;\">93%</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntop5criticos <- df_movies %>%\n  arrange(desc(`critics % score`)) %>%\n  slice_head(n = 5) %>%\n  rename(criticos = `critics % score`) %>%\n  select(movie, criticos)\n\ntop5crit_tabla<- top5criticos %>%\n  gt() %>%\n  tab_header(\n    title = \"Top 5 películas Marvel - Mejor valoradas por los críticos\",\n    subtitle = \"(en porcentaje)\") %>%\n  cols_label(\n    movie = \"Película\",\n    criticos = \"Porcentaje\") %>%\n  tab_style(\n    style = cell_text(font = \"mono\"),\n    locations = cells_body()) %>%\n  tab_style(\n    style = cell_text(font = \"mono\"),\n    locations = cells_title(groups = c(\"title\", \"subtitle\"))) %>%\n  tab_style(\n    style = cell_text(font = \"mono\"),\n    locations = cells_column_labels()) %>%\n  tab_options(\n    table.background.color = \"#FFF6ED\")\n\ntop5crit_tabla\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ybpmcxdmcq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ybpmcxdmcq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ybpmcxdmcq thead, #ybpmcxdmcq tbody, #ybpmcxdmcq tfoot, #ybpmcxdmcq tr, #ybpmcxdmcq td, #ybpmcxdmcq th {\n  border-style: none;\n}\n\n#ybpmcxdmcq p {\n  margin: 0;\n  padding: 0;\n}\n\n#ybpmcxdmcq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFF6ED;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ybpmcxdmcq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFF6ED;\n  border-bottom-width: 0;\n}\n\n#ybpmcxdmcq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFF6ED;\n  border-top-width: 0;\n}\n\n#ybpmcxdmcq .gt_heading {\n  background-color: #FFF6ED;\n  text-align: center;\n  border-bottom-color: #FFF6ED;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_col_heading {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ybpmcxdmcq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ybpmcxdmcq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ybpmcxdmcq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ybpmcxdmcq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ybpmcxdmcq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ybpmcxdmcq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ybpmcxdmcq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ybpmcxdmcq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ybpmcxdmcq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ybpmcxdmcq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ybpmcxdmcq .gt_stub {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ybpmcxdmcq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFF6ED;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ybpmcxdmcq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ybpmcxdmcq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ybpmcxdmcq .gt_summary_row {\n  color: #333333;\n  background-color: #FFF6ED;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ybpmcxdmcq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ybpmcxdmcq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFF6ED;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ybpmcxdmcq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ybpmcxdmcq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_footnotes {\n  color: #333333;\n  background-color: #FFF6ED;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ybpmcxdmcq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFF6ED;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ybpmcxdmcq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ybpmcxdmcq .gt_left {\n  text-align: left;\n}\n\n#ybpmcxdmcq .gt_center {\n  text-align: center;\n}\n\n#ybpmcxdmcq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ybpmcxdmcq .gt_font_normal {\n  font-weight: normal;\n}\n\n#ybpmcxdmcq .gt_font_bold {\n  font-weight: bold;\n}\n\n#ybpmcxdmcq .gt_font_italic {\n  font-style: italic;\n}\n\n#ybpmcxdmcq .gt_super {\n  font-size: 65%;\n}\n\n#ybpmcxdmcq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ybpmcxdmcq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ybpmcxdmcq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ybpmcxdmcq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ybpmcxdmcq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ybpmcxdmcq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ybpmcxdmcq .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ybpmcxdmcq .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ybpmcxdmcq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal\" style=\"font-family: mono;\">Top 5 películas Marvel - Mejor valoradas por los críticos</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style=\"font-family: mono;\">(en porcentaje)</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"font-family: mono;\" scope=\"col\" id=\"movie\">Película</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"font-family: mono;\" scope=\"col\" id=\"criticos\">Porcentaje</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Black Panther</td>\n<td headers=\"criticos\" class=\"gt_row gt_right\" style=\"font-family: mono;\">96%</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Spider-Man: Across the Spider-Verse</td>\n<td headers=\"criticos\" class=\"gt_row gt_right\" style=\"font-family: mono;\">96%</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Avengers: End Game</td>\n<td headers=\"criticos\" class=\"gt_row gt_right\" style=\"font-family: mono;\">94%</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Iron Man</td>\n<td headers=\"criticos\" class=\"gt_row gt_right\" style=\"font-family: mono;\">94%</td></tr>\n    <tr><td headers=\"movie\" class=\"gt_row gt_left\" style=\"font-family: mono;\">Spider-Man: No Way Home</td>\n<td headers=\"criticos\" class=\"gt_row gt_right\" style=\"font-family: mono;\">93%</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nCon esta comparación podemos observar que las películas más aclamadas por la audiencia no coinciden con la valoración de los críticos a excepción de las dos películas de Spider-man lo cual, desde mi punto de vista, es un acierto puesto que a nivel de producción y trama son muy buenos largometrajes.\n\n### Último gráfico. Apariciones en cómics y películas.\n\nEste último gráfico muestra el número de apariciones que han tenido los personajes. En este caso, hemos pedido los cinco con mayor frecuencia entre los cuales encontramos a Spider-Man y el Capitán América.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#- tercer gráfico\nlibrary(ggplot2)\nlibrary(plotly)\n\napariciones <- df_personajes %>%\n   mutate(Appearances = as.numeric(Appearances),            \n         Appearances = if_else(`Name/Alias` == \"_Jr._(Earth-616)#\", 0, Appearances))\n\np <- apariciones  %>%\n  filter (Appearances >= 2000) %>%\n  slice_max(Appearances, n = 5) %>%\n  ggplot( aes(`Name/Alias`, Appearances, size = 2.5, color = `Name/Alias`)) +\n  geom_point() +\n  theme_gray(base_family = \"mono\") +\n  theme(legend.position = \"none\", \n        plot.title = element_text(size=15,\n                                   vjust=2,\n                                   face=\"bold\")) +\n  scale_color_manual(values = paleta_discreta) + \n  labs(\n    title = \"Apariciones de personajes (aprox.)\") \n\nggplotly(p)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-5287509c9754415d5cfe\" style=\"width:95%;height:1500px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-5287509c9754415d5cfe\">{\"x\":{\"data\":[{\"x\":[1],\"y\":[3068],\"text\":\"Name/Alias: Anthony Edward \\\"\\\"Tony\\\"\\\" Stark<br />Appearances: 3068<br />size: 2.5<br />Name/Alias: Anthony Edward \\\"\\\"Tony\\\"\\\" Stark\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(158,61,34,1)\",\"opacity\":1,\"size\":17.142175392501688,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(158,61,34,1)\"}},\"hoveron\":\"points\",\"name\":\"Anthony Edward \\\"\\\"Tony\\\"\\\" Stark\",\"legendgroup\":\"Anthony Edward \\\"\\\"Tony\\\"\\\" Stark\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[2],\"y\":[3130],\"text\":\"Name/Alias: James \\\"\\\"Logan\\\"\\\" Howlett<br />Appearances: 3130<br />size: 2.5<br />Name/Alias: James \\\"\\\"Logan\\\"\\\" Howlett\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(233,117,43,1)\",\"opacity\":1,\"size\":17.142175392501688,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(233,117,43,1)\"}},\"hoveron\":\"points\",\"name\":\"James \\\"\\\"Logan\\\"\\\" Howlett\",\"legendgroup\":\"James \\\"\\\"Logan\\\"\\\" Howlett\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[3],\"y\":[4333],\"text\":\"Name/Alias: Peter Benjamin Parker<br />Appearances: 4333<br />size: 2.5<br />Name/Alias: Peter Benjamin Parker\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(255,205,151,1)\",\"opacity\":1,\"size\":17.142175392501688,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(255,205,151,1)\"}},\"hoveron\":\"points\",\"name\":\"Peter Benjamin Parker\",\"legendgroup\":\"Peter Benjamin Parker\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[4],\"y\":[3458],\"text\":\"Name/Alias: Steven Rogers<br />Appearances: 3458<br />size: 2.5<br />Name/Alias: Steven Rogers\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(193,220,237,1)\",\"opacity\":1,\"size\":17.142175392501688,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(193,220,237,1)\"}},\"hoveron\":\"points\",\"name\":\"Steven Rogers\",\"legendgroup\":\"Steven Rogers\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[5],\"y\":[2402],\"text\":\"Name/Alias: Thor Odinson<br />Appearances: 2402<br />size: 2.5<br />Name/Alias: Thor Odinson\",\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(103,154,195,1)\",\"opacity\":1,\"size\":17.142175392501688,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(103,154,195,1)\"}},\"hoveron\":\"points\",\"name\":\"Thor Odinson\",\"legendgroup\":\"Thor Odinson\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.231216272312167,\"r\":7.3059360730593621,\"b\":37.260273972602747,\"l\":48.949771689497723},\"plot_bgcolor\":\"rgba(235,235,235,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"mono\",\"size\":14.611872146118724},\"title\":{\"text\":\"<b> Apariciones de personajes (aprox.) <\\/b>\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"mono\",\"size\":19.925280199252807},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.40000000000000002,5.5999999999999996],\"tickmode\":\"array\",\"ticktext\":[\"Anthony Edward \\\"\\\"Tony\\\"\\\" Stark\",\"James \\\"\\\"Logan\\\"\\\" Howlett\",\"Peter Benjamin Parker\",\"Steven Rogers\",\"Thor Odinson\"],\"tickvals\":[1,2,3,4,5],\"categoryorder\":\"array\",\"categoryarray\":[\"Anthony Edward \\\"\\\"Tony\\\"\\\" Stark\",\"James \\\"\\\"Logan\\\"\\\" Howlett\",\"Peter Benjamin Parker\",\"Steven Rogers\",\"Thor Odinson\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"mono\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Name/Alias\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"mono\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[2305.4499999999998,4429.5500000000002],\"tickmode\":\"array\",\"ticktext\":[\"2500\",\"3000\",\"3500\",\"4000\"],\"tickvals\":[2500,3000,3500,4000],\"categoryorder\":\"array\",\"categoryarray\":[\"2500\",\"3000\",\"3500\",\"4000\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"mono\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(255,255,255,1)\",\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Appearances\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"mono\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"mono\",\"size\":11.68949771689498}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"77d014e432e\":{\"x\":{},\"y\":{},\"size\":{},\"colour\":{},\"type\":\"scatter\"}},\"cur_data\":\"77d014e432e\",\"visdat\":{\"77d014e432e\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n<br>\n\nCon esto acabo mi trabajo para BigData ;)\n\n\n(**wakanda forever**)\n\n<br>\n\n------------------------------------------------------------------------\n\n<br>\n\n### Información sobre la sesión\n\nAbajo muestro mi entorno de trabajo y paquetes utilizados\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n<details closed>\n<summary> <span title='Click to Expand'> current session info </span> </summary>\n\n```r\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.1 (2025-06-13 ucrt)\n os       Windows 11 x64 (build 26200)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2026-01-02\n pandoc   3.4 @ C:/Users/Arantxa/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\Users\\\\Arantxa\\\\AppData\\\\Local\\\\Programs\\\\Quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package      * version date (UTC) lib source\n cli            3.6.5   2025-04-23 [1] CRAN (R 4.5.1)\n clipr          0.8.0   2022-02-22 [1] CRAN (R 4.5.1)\n crosstalk      1.2.2   2025-08-26 [1] CRAN (R 4.5.1)\n data.table     1.17.8  2025-07-10 [1] CRAN (R 4.5.1)\n desc           1.4.3   2023-12-10 [1] CRAN (R 4.5.1)\n details        0.4.0   2025-02-09 [1] CRAN (R 4.5.2)\n digest         0.6.37  2024-08-19 [1] CRAN (R 4.5.1)\n dplyr        * 1.1.4   2023-11-17 [1] CRAN (R 4.5.1)\n evaluate       1.0.5   2025-08-27 [1] CRAN (R 4.5.1)\n farver         2.1.2   2024-05-13 [1] CRAN (R 4.5.1)\n fastmap        1.2.0   2024-05-15 [1] CRAN (R 4.5.1)\n forcats      * 1.0.0   2023-01-29 [1] CRAN (R 4.5.1)\n fs             1.6.6   2025-04-12 [1] CRAN (R 4.5.1)\n generics       0.1.4   2025-05-09 [1] CRAN (R 4.5.1)\n ggplot2      * 4.0.0   2025-09-11 [1] CRAN (R 4.5.1)\n ggthemes       5.1.0   2024-02-10 [1] CRAN (R 4.5.1)\n glue           1.8.0   2024-09-30 [1] CRAN (R 4.5.1)\n gt           * 1.1.0   2025-09-23 [1] CRAN (R 4.5.1)\n gtable         0.3.6   2024-10-25 [1] CRAN (R 4.5.1)\n hms            1.1.3   2023-03-21 [1] CRAN (R 4.5.1)\n htmltools      0.5.8.1 2024-04-04 [1] CRAN (R 4.5.1)\n htmlwidgets    1.6.4   2023-12-06 [1] CRAN (R 4.5.1)\n httr           1.4.7   2023-08-15 [1] CRAN (R 4.5.1)\n jsonlite       2.0.0   2025-03-27 [1] CRAN (R 4.5.1)\n knitr          1.50    2025-03-16 [1] CRAN (R 4.5.1)\n labeling       0.4.3   2023-08-29 [1] CRAN (R 4.5.0)\n lazyeval       0.2.2   2019-03-15 [1] CRAN (R 4.5.1)\n lifecycle      1.0.4   2023-11-07 [1] CRAN (R 4.5.1)\n lubridate    * 1.9.4   2024-12-08 [1] CRAN (R 4.5.1)\n magrittr       2.0.4   2025-09-12 [1] CRAN (R 4.5.1)\n paletteer    * 1.6.0   2024-01-21 [1] CRAN (R 4.5.1)\n pillar         1.11.1  2025-09-17 [1] CRAN (R 4.5.1)\n pkgconfig      2.0.3   2019-09-22 [1] CRAN (R 4.5.1)\n plotly       * 4.11.0  2025-06-19 [1] CRAN (R 4.5.1)\n png            0.1-8   2022-11-29 [1] CRAN (R 4.5.0)\n prismatic      1.1.2   2024-04-10 [1] CRAN (R 4.5.1)\n purrr        * 1.1.0   2025-07-10 [1] CRAN (R 4.5.1)\n R.methodsS3    1.8.2   2022-06-13 [1] CRAN (R 4.5.0)\n R.oo           1.27.1  2025-05-02 [1] CRAN (R 4.5.0)\n R.utils        2.13.0  2025-02-24 [1] CRAN (R 4.5.1)\n R6             2.6.1   2025-02-15 [1] CRAN (R 4.5.1)\n RColorBrewer   1.1-3   2022-04-03 [1] CRAN (R 4.5.0)\n readr        * 2.1.5   2024-01-10 [1] CRAN (R 4.5.1)\n rematch2       2.1.2   2020-05-01 [1] CRAN (R 4.5.1)\n rio            1.2.4   2025-09-26 [1] CRAN (R 4.5.1)\n rlang          1.1.6   2025-04-11 [1] CRAN (R 4.5.1)\n rmarkdown      2.29    2024-11-04 [1] CRAN (R 4.5.1)\n rstudioapi     0.17.1  2024-10-22 [1] CRAN (R 4.5.1)\n S7             0.2.0   2024-11-07 [1] CRAN (R 4.5.1)\n sass           0.4.10  2025-04-11 [1] CRAN (R 4.5.1)\n scales         1.4.0   2025-04-24 [1] CRAN (R 4.5.1)\n sessioninfo    1.2.3   2025-02-05 [1] CRAN (R 4.5.1)\n stringi        1.8.7   2025-03-27 [1] CRAN (R 4.5.0)\n stringr      * 1.5.2   2025-09-08 [1] CRAN (R 4.5.1)\n tibble       * 3.3.0   2025-06-08 [1] CRAN (R 4.5.1)\n tidyr        * 1.3.1   2024-01-24 [1] CRAN (R 4.5.1)\n tidyselect     1.2.1   2024-03-11 [1] CRAN (R 4.5.1)\n tidyverse    * 2.0.0   2023-02-22 [1] CRAN (R 4.5.1)\n timechange     0.3.0   2024-01-18 [1] CRAN (R 4.5.1)\n tzdb           0.5.0   2025-03-15 [1] CRAN (R 4.5.1)\n vctrs          0.6.5   2023-12-01 [1] CRAN (R 4.5.1)\n viridisLite    0.4.2   2023-05-02 [1] CRAN (R 4.5.1)\n withr          3.0.2   2024-10-28 [1] CRAN (R 4.5.1)\n xfun           0.53    2025-08-19 [1] CRAN (R 4.5.1)\n xml2           1.4.0   2025-08-20 [1] CRAN (R 4.5.1)\n yaml           2.3.10  2024-07-26 [1] CRAN (R 4.5.0)\n\n [1] C:/Users/Arantxa/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.1/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────\n\n```\n\n</details>\n<br>\n:::\n:::\n\n",
    "supporting": [
      "my_trabajo_BigData_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.11.0/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.2/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.2/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}